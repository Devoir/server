var app=angular.module("app",["controllers"]),controllers=controllers||angular.module("controllers",[]);controllers.controller("homeCtrl",["$scope","$http",function($scope,$http){function signinCallback(res){console.log("auth response",res),res.status.signed_in&&$http.post("/login",{code:res.code}).success(function(){window.location.href="/taskView"}).error(function(){}),$scope.disableSignIn=!1}console.log("homeCtrl loaded");var config={clientid:"1067500941491-p7d6k8en78uc7bbnq5p05jfmir8qpmgk.apps.googleusercontent.com",cookiepolicy:"single_host_origin",callback:signinCallback};$scope.login=function(){gapi.auth.signIn(config),$scope.disableSignIn=!0}}]);var controllers=controllers||angular.module("controllers",[]);controllers.controller("taskViewCtrl",["$scope","$http",function($scope,$http){console.log("taskViewCtrl loaded"),$scope.calendarId="https://learningsuite.byu.edu/iCalFeed/ical.php?courseID=HD832sKIIdzI",$scope.getCalendar=function(){$scope.loadingFeed=!0,$scope.events=[];var courseId=5;$http.post("/api/courses/"+courseId+"/tasks/import",{icalFeed:$scope.calendarId}).success(function(data){for(var d in data)$scope.events.push(data[d]);$scope.loadingFeed=!1}).error(function(data,status){$scope.error={data:data,status:status},$scope.loadingFeed=!1})},$scope.checkOff=function(event){event.done=!event.done}}]);